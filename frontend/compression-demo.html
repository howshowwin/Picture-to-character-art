<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>字符藝術壓縮方法比較</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0d1117;
            color: #c9d1d9;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: #58a6ff;
            text-align: center;
            margin-bottom: 30px;
        }

        .method-section {
            background: #161b22;
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .method-title {
            color: #58a6ff;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .code-block {
            background: #0d1117;
            border: 1px solid #30363d;
            border-radius: 4px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .stat {
            background: #0d1117;
            padding: 10px 15px;
            border-radius: 4px;
            border: 1px solid #30363d;
        }

        .stat-label {
            color: #8b949e;
            font-size: 0.8em;
        }

        .stat-value {
            color: #58a6ff;
            font-size: 1.2em;
            font-weight: bold;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 10px;
            text-align: left;
            border: 1px solid #30363d;
        }

        .comparison-table th {
            background: #161b22;
            color: #58a6ff;
        }

        .comparison-table tr:nth-child(even) {
            background: #161b22;
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .pros, .cons {
            padding: 15px;
            border-radius: 4px;
        }

        .pros {
            background: #0d3a2e;
            border: 1px solid #0f5132;
        }

        .cons {
            background: #3a0d0d;
            border: 1px solid #5c0f0f;
        }

        .pros h4, .cons h4 {
            margin-top: 0;
        }

        ul {
            margin: 5px 0;
            padding-left: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>字符藝術壓縮方法比較</h1>

        <!-- Method 1: Ultra Minimal -->
        <div class="method-section">
            <h3 class="method-title">方法 1: 極簡格式 (Ultra Minimal)</h3>
            <p>只儲存每個字符的位置，完全省略空白字符和元數據。</p>
            
            <h4>原始資料：</h4>
            <div class="code-block">
            つ　　の　　愛
            　　る　　　雲
            お　　　　　龍
            </div>

            <h4>壓縮後：</h4>
            <div class="code-block">
{
  "つ": [0],
  "の": [3],
  "愛": [6],
  "る": [10],
  "雲": [15],
  "お": [16],
  "龍": [22]
}
            </div>

            <div class="stats">
                <div class="stat">
                    <div class="stat-label">壓縮率</div>
                    <div class="stat-value">~85%</div>
                </div>
                <div class="stat">
                    <div class="stat-label">適用場景</div>
                    <div class="stat-value">稀疏文字</div>
                </div>
            </div>

            <div class="pros-cons">
                <div class="pros">
                    <h4>優點</h4>
                    <ul>
                        <li>極度精簡</li>
                        <li>解析快速</li>
                        <li>適合稀疏圖案</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>缺點</h4>
                    <ul>
                        <li>需要額外傳遞寬高資訊</li>
                        <li>密集圖案壓縮率降低</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Method 2: Delta Encoding -->
        <div class="method-section">
            <h3 class="method-title">方法 2: 差分編碼 (Delta Encoding)</h3>
            <p>儲存位置的差值而非絕對位置，對連續出現的字符特別有效。</p>
            
            <h4>壓縮後：</h4>
            <div class="code-block">
{
  "つ": [0, 50, 20, 30],  // 第一個是絕對位置，後續是差值
  "の": [3, 47, 22],
  "愛": [6, 44]
}
            </div>

            <div class="stats">
                <div class="stat">
                    <div class="stat-label">壓縮率</div>
                    <div class="stat-value">~88%</div>
                </div>
                <div class="stat">
                    <div class="stat-label">適用場景</div>
                    <div class="stat-value">規律分佈</div>
                </div>
            </div>

            <div class="pros-cons">
                <div class="pros">
                    <h4>優點</h4>
                    <ul>
                        <li>對規律分佈更有效</li>
                        <li>小數值佔用更少空間</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>缺點</h4>
                    <ul>
                        <li>解碼需要累加計算</li>
                        <li>隨機分佈效果不佳</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Method 3: RLE -->
        <div class="method-section">
            <h3 class="method-title">方法 3: 行程編碼 (Run-Length Encoding)</h3>
            <p>記錄每個字符連續出現的次數，適合有大量重複的圖案。</p>
            
            <h4>壓縮後：</h4>
            <div class="code-block">
[
  ["つ", 1], ["_", 2], ["の", 1], ["_", 2], ["愛", 1],
  ["_", 3], ["る", 1], ["_", 4], ["雲", 1],
  ["お", 1], ["_", 6], ["龍", 1]
]
            </div>

            <div class="stats">
                <div class="stat">
                    <div class="stat-label">壓縮率</div>
                    <div class="stat-value">~70%</div>
                </div>
                <div class="stat">
                    <div class="stat-label">適用場景</div>
                    <div class="stat-value">重複圖案</div>
                </div>
            </div>

            <div class="pros-cons">
                <div class="pros">
                    <h4>優點</h4>
                    <ul>
                        <li>對連續重複極有效</li>
                        <li>解碼簡單快速</li>
                        <li>保持順序結構</li>
                    </ul>
                </div>
                <div class="cons">
                    <h4>缺點</h4>
                    <ul>
                        <li>交錯圖案效果差</li>
                        <li>可能比原始更大</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Method 4: Custom Encoding -->
        <div class="method-section">
            <h3 class="method-title">方法 4: 自定義編碼建議</h3>
            <p>根據您的需求，我建議使用混合方案：</p>
            
            <h4>動畫格式（您提到的格式）：</h4>
            <div class="code-block">
{
  "frames": [
    {"つ": [0, 100], "の": [50, 150]},
    {"つ": [1, 101], "の": [51, 151]},
    {"つ": [2, 102], "の": [52, 152]}
  ]
}
            </div>

            <h4>進階優化 - 使用位元壓縮：</h4>
            <div class="code-block">
// 將位置陣列轉為 Base64 或二進位
{
  "つ": "AGQAyg==",  // Base64 編碼的位置陣列
  "の": "MgCWAMo="
}
            </div>

            <h4>極限壓縮 - 單一字串格式：</h4>
            <div class="code-block">
// 格式: 字符:位置1,位置2;字符:位置1,位置2
"つ:0,100;の:50,150;愛:200,250"
            </div>
        </div>

        <!-- Comparison Table -->
        <div class="method-section">
            <h3 class="method-title">壓縮方法比較表</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>方法</th>
                        <th>壓縮率</th>
                        <th>速度</th>
                        <th>最適用場景</th>
                        <th>實現複雜度</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>極簡格式</td>
                        <td>85-95%</td>
                        <td>最快</td>
                        <td>稀疏圖案</td>
                        <td>簡單</td>
                    </tr>
                    <tr>
                        <td>差分編碼</td>
                        <td>88-96%</td>
                        <td>快</td>
                        <td>規律分佈</td>
                        <td>中等</td>
                    </tr>
                    <tr>
                        <td>行程編碼</td>
                        <td>50-90%</td>
                        <td>快</td>
                        <td>連續重複</td>
                        <td>簡單</td>
                    </tr>
                    <tr>
                        <td>位元壓縮</td>
                        <td>90-98%</td>
                        <td>慢</td>
                        <td>大量數據</td>
                        <td>複雜</td>
                    </tr>
                    <tr>
                        <td>字串格式</td>
                        <td>80-90%</td>
                        <td>中等</td>
                        <td>簡單交換</td>
                        <td>最簡單</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Recommendations -->
        <div class="method-section">
            <h3 class="method-title">建議</h3>
            <p>根據您的需求（在其他程式中使用），我推薦：</p>
            <ol>
                <li><strong>極簡 JSON 格式</strong>：最通用，易於解析</li>
                <li><strong>字串格式</strong>：如果需要極致簡單，可以用分隔符號的字串</li>
                <li><strong>差分編碼</strong>：如果字符有規律分佈</li>
                <li><strong>自定義二進位格式</strong>：如果需要極致壓縮</li>
            </ol>
            
            <h4>簡單的 Python 解碼範例：</h4>
            <div class="code-block">
# 極簡格式解碼
def decode_ultra_minimal(data, width, height):
    result = [[' ' for _ in range(width)] for _ in range(height)]
    for char, positions in data.items():
        for pos in positions:
            row, col = pos // width, pos % width
            result[row][col] = char
    return [''.join(row) for row in result]

# 使用
compressed = {"つ": [0, 100], "の": [50, 150]}
art = decode_ultra_minimal(compressed, 100, 50)
            </div>
        </div>
    </div>

    <script src="compression-methods.js"></script>
</body>
</html>